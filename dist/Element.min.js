function getSelectorType(e){var t,n,r=e.charAt(0);return"#"===r?(t="id",n=e.substring(1)):r.match(/[a-zA-Z]/)||"*"===e?(t="tag",n=e):"."===r&&(t="class",n=e.substring(1)),{type:t,selectorName:n}}!function(e){function t(e,t,n,r,i){function o(){f=p[l][v]={},i?(f[t]={},f[t][i]=[h]):f[t]=[n]}var l,s,a,c,f,d,h,v=i?"delegateEvents":"events";for(i&&(h={handler:n,delegate:r}),s=0;s<u.length;s++)if(l=u[s],(a=p[l]).el===e){if(!a[v])return void o();if(d=a[v][t],i)d[i].push(h);else{if([n].inArray(d))return;(d||[]).push(n)}return}c=u[u.length-1]>=0?u[u.length-1]:-1,l=c+1,u.push(l),p[l]={el:e},o()}function n(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function r(e,t,n,r){return e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):void(e["on"+t]=null)}function i(e){var t,n,i,o,l,s;for(t=0;t<u.length;t++)if(i=u[t],(n=p[i]).el===e){o=n.events,Object.keys(o).forEach(function(t){for(l=0;l<o[t].length;l++)s=o[t][l],r(e,t,s)}),delete p[i],u.splice(t,1);break}}function o(e,t){for(var n;n=e.firstChild;)1===n.nodeType?(i(n),n.destory()):(e.removeChild(n),null);t&&(i(e),e.parentNode.removeChild(e))}function l(e){var t,n,r=e.innerHTML;return f?(t=/(\s+\w+)\s*=\s*([^<>"\s]+)(?=[^<>]*\/>)/gi,n=/"'([^'"]*)'"/gi,r=r.replace(t,'$1="$2"').replace(n,'"$1"'),r.replace(/<(\/?)(\w+)([^>]*)>/g,function(e,t,n,r){return t?"</"+n.toLowerCase()+">":("<"+n.toLowerCase()+r+">").replace(/=(("[^"]*?")|('[^']*?')|([\w\-\.]+))([\s>])/g,function(e,t,n,r,i,o,l,s){return i?'="'+i+'"'+o:e})}).replace(/<\/?([^>]+)>/g,function(e){return e})):r}function s(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function a(e,t){for(var n=[];(e=e[t])&&9!==e.nodeType;)1===e.nodeType&&n.push(e);return n}var p={},u=[],c=function(){var e=document.createElement("table"),t=document.createElement("tbody");e.appendChild(t);try{t.innerHTML="<tr></tr>"}catch(e){return!1}finally{e=null,t=null}return!0}(),f="Microsoft Internet Explorer"===navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<9;Element.prototype.getClass=function(){return this.getAttribute("class")||""},Element.prototype.hasClass=function(e){var t=this,n=t.classList,r=e?e.trim():"";return!!r&&(n?n.contains(r):(n=t.getClass().trim().split(" ")).indexOf(r)>-1)},Element.prototype.addClass=function(e){var t,n,r,i=this,o=i.classList,l=e&&e.trim()?e.trim().split(" "):[];if(l){if(o)for(t=0;t<l.length;t++)n=l[t],o.contains(n)||o.add(n);else r=(o=i.getClass().split(" ")).concat(l).distinct().join(" ").trim(),i.setAttribute("class",r);return i}},Element.prototype.removeClass=function(e){var t,n,r=this,i=r.classList||r.getClass().split(" "),o=e&&e.trim()?e.trim().split(" "):[];if(i&&o){for(t=0;t<o.length;t++)n=o[t],i.remove(n);return void 0===i.value&&r.setAttribute("class",i.join(" ")),r}},Element.prototype.toggleClass=function(e){var t,n,r=this,i=e&&e.trim()?e.trim().split(" "):[];if(i){for(t=0;t<i.length;t++)n=i[t],r.hasClass(n)?r.removeClass(n):r.addClass(n);return r}},Element.prototype.css=function(e,t){return this.style[e]=t,this},Element.prototype.is=function(e){var t,n=this,r=n.id,i=n.localName.toLowerCase(),o=e?e.trim():"";if(o)switch(t=getSelectorType(o),t.type){case"id":return"#"+r===o;case"tag":return i===o;case"class":return n.hasClass(o.replace(".",""));default:return!1}},Element.prototype.parent=function(){return s(this,"parentNode")},Element.prototype.allChildren=function(){var e,t,n,r=this,i=[];if(r.children)return r.children;for(e=r.childNodes,t=0;t<e.length;t++)1===(n=e[t]).nodeType&&i.push(n);return i},Element.prototype.getLastChild=function(){for(var e=this.lastChild;1!==e.nodeType;)e=e.previousSibling;return e},Element.prototype.prev=function(){return s(this,"previousSibling")},Element.prototype.next=function(){return s(this,"nextSibling")},Element.prototype.prevAll=function(){return a(this,"previousSibling")},Element.prototype.nextAll=function(){return a(this,"nextSibling")},Element.prototype.index=function(e){var t,n=e?e.getElementsByTagName("*"):this.parent().allChildren();for(t=0;t<n.length;t++)if(n[t]===this)return t},Element.prototype.on=function(){function e(e){var t=e||window.event,n=t.target||t.srcElement;n.is(r)&&i.call(n,Array.prototype.slice.call(arguments))}var r,i,o,l=this,s=arguments,a=s[0],p="function"==typeof s[1];return p?(i=s[1],o=s[2]):(r=s[1],i=s[2],o=s[3]),p?(t(l,a,i),n(l,a,i,o)):(t(l,a,i,e,r),n(l,a,e,o))},Element.prototype.off=function(){var e,t,n,i,o,l,s,a,c,f,d=this,h=arguments,v=h[0];for("function"==typeof arguments[1]?(t=h[1],n=h[2]):(e=h[1],t=h[2],n=h[3]),i=0;i<u.length;i++)if(o=u[i],(l=p[o])&&l.el===d){if(t)if(e){for(c=p[o].delegateEvents[v][e],a=0;a<c.length;a++)if((f=c[a]).handler===t)return c.remove(f),r(d,v,f.delegate,n)}else l.events[v].remove(t),r(d,v,t,n);else if(s=l.events[v]){for(a=0;a<s.length;a++)r(d,v,t=s[a],n);l.events[v]=[],l.delegateEvents[v]=[]}break}},Element.prototype.destory=function(){o(this,!0)},Element.prototype.empty=function(){o(this)},Element.prototype.append=function(e){var t,n=this;c?n.innerHTML+=e:((t=document.createElement("div")).id="tempEl",n.appendChild(t),t.innerHTML=e,document.getElementById("tempEl").removeNode(!1),t=null)},Element.prototype.html=function(e){var t=this;if(void 0===e)return l(t);t.empty(),c?t.innerHTML=e:t.append(e)}}();