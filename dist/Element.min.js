!function(e){function t(e){var t,n,r=e.charAt(0);return"#"===r?(t="id",n=e.substring(1)):r.match(/[a-zA-Z]/)||"*"===e?(t="tag",n=e):"."===r&&(t="class",n=e.substring(1)),{type:t,selectorName:n}}function n(e,t,n,r,o){function i(){f=c[l][v]={},o?(f[t]={},f[t][o]=[d]):f[t]=[n]}var l,s,a,p,f,h,d,v=o?"delegateEvents":"events";for(o&&(d={handler:n,delegate:r}),s=0;s<u.length;s++)if(l=u[s],(a=c[l]).el===e){if(!a[v])return void i();if(h=a[v][t],o)h[o].push(d);else{if([n].inArray(h))return;(h||[]).push(n)}return}p=u[u.length-1]>=0?u[u.length-1]:-1,l=p+1,u.push(l),c[l]={el:e},i()}function r(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function o(e,t,n,r){return e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):void(e["on"+t]=null)}function i(e){var t,n,r,i,l,s,a,p;for(t=0;t<u.length;t++)if(r=u[t],(n=c[r]).el===e){i=n.events,l=n.delegateEvents,Object.keys(i).forEach(function(t){for(a=0;a<i[t].length;a++)p=i[t][a],o(e,t,p)}),Object.keys(l).forEach(function(t){for(s in l[t])s.hasOwnProperty()&&console.log(s);for(a=0;a<l[t].length;a++)p=i[t][a],console.log(p),console.log(e),console.log(t)}),delete c[r],u.splice(t,1);break}}function l(e,t){for(var n;n=e.firstChild;)1===n.nodeType?(i(n),n.destory()):(e.removeChild(n),null);t&&(i(e),e.parentNode.removeChild(e))}function s(e){var t,n,r=e.innerHTML;return h?(t=/(\s+\w+)\s*=\s*([^<>"\s]+)(?=[^<>]*\/>)/gi,n=/"'([^'"]*)'"/gi,r=r.replace(t,'$1="$2"').replace(n,'"$1"'),r.replace(/<(\/?)(\w+)([^>]*)>/g,function(e,t,n,r){return t?"</"+n.toLowerCase()+">":("<"+n.toLowerCase()+r+">").replace(/=(("[^"]*?")|('[^']*?')|([\w\-\.]+))([\s>])/g,function(e,t,n,r,o,i,l,s){return o?'="'+o+'"'+i:e})}).replace(/<\/?([^>]+)>/g,function(e){return e})):r}function a(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function p(e,t){for(var n=[];(e=e[t])&&9!==e.nodeType;)1===e.nodeType&&n.push(e);return n}var c={},u=[],f=function(){var e=document.createElement("table"),t=document.createElement("tbody");e.appendChild(t);try{t.innerHTML="<tr></tr>"}catch(e){return!1}finally{e=null,t=null}return!0}(),h="Microsoft Internet Explorer"===navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<9;Element.prototype.getClass=function(){return this.getAttribute("class")||""},Element.prototype.hasClass=function(e){var t=this,n=t.classList,r=e?e.trim():"";return!!r&&(n?n.contains(r):(n=t.getClass().trim().split(" ")).indexOf(r)>-1)},Element.prototype.addClass=function(e){var t,n,r,o=this,i=o.classList,l=e&&e.trim()?e.trim().split(" "):[];if(l){if(i)for(t=0;t<l.length;t++)n=l[t],i.contains(n)||i.add(n);else r=(i=o.getClass().split(" ")).concat(l).distinct().join(" ").trim(),o.setAttribute("class",r);return o}},Element.prototype.removeClass=function(e){var t,n,r=this,o=r.classList||r.getClass().split(" "),i=e&&e.trim()?e.trim().split(" "):[];if(o&&i){for(t=0;t<i.length;t++)n=i[t],o.remove(n);return void 0===o.value&&r.setAttribute("class",o.join(" ")),r}},Element.prototype.toggleClass=function(e){var t,n,r=this,o=e&&e.trim()?e.trim().split(" "):[];if(o){for(t=0;t<o.length;t++)n=o[t],r.hasClass(n)?r.removeClass(n):r.addClass(n);return r}},Element.prototype.css=function(e,t){return this.style[e]=t,this},Element.prototype.is=function(e){var n,r=this,o=r.id,i=r.localName.toLowerCase(),l=e?e.trim():"";if(l)switch(n=t(l),n.type){case"id":return"#"+o===l;case"tag":return i===l;case"class":return r.hasClass(l.replace(".",""));default:return!1}},Element.prototype.parent=function(){return a(this,"parentNode")},Element.prototype.allChildren=function(){var e,t,n,r=this,o=[];if(r.children)return r.children;for(e=r.childNodes,t=0;t<e.length;t++)1===(n=e[t]).nodeType&&o.push(n);return o},Element.prototype.getLastChild=function(){for(var e=this.lastChild;1!==e.nodeType;)e=e.previousSibling;return e},Element.prototype.prev=function(){return a(this,"previousSibling")},Element.prototype.next=function(){return a(this,"nextSibling")},Element.prototype.prevAll=function(){return p(this,"previousSibling")},Element.prototype.nextAll=function(){return p(this,"nextSibling")},Element.prototype.index=function(e){var t,n=e?e.getElementsByTagName("*"):this.parent().allChildren();for(t=0;t<n.length;t++)if(n[t]===this)return t},Element.prototype.on=function(){function e(e){var n=e||window.event,r=n.target||n.srcElement;r.is(t)&&o.call(r,Array.prototype.slice.call(arguments))}var t,o,i,l=this,s=arguments,a=s[0],p="function"==typeof s[1];return p?(o=s[1],i=s[2]):(t=s[1],o=s[2],i=s[3]),p?(n(l,a,o),r(l,a,o,i)):(n(l,a,o,e,t),r(l,a,e,i))},Element.prototype.off=function(){var e,t,n,r,i,l,s,a,p,f,h=this,d=arguments,v=d[0];for("function"==typeof arguments[1]?(t=d[1],n=d[2]):(e=d[1],t=d[2],n=d[3]),r=0;r<u.length;r++)if(i=u[r],(l=c[i])&&l.el===h){if(t)if(e){for(p=c[i].delegateEvents[v][e],a=0;a<p.length;a++)if((f=p[a]).handler===t)return p.remove(f),o(h,v,f.delegate,n)}else l.events[v].remove(t),o(h,v,t,n);else if(s=l.events[v]){for(a=0;a<s.length;a++)o(h,v,t=s[a],n);l.events[v]=[],l.delegateEvents[v]=[]}break}},Element.prototype.destory=function(){l(this,!0)},Element.prototype.empty=function(){l(this)},Element.prototype.append=function(e){var t,n=this;f?n.innerHTML+=e:((t=document.createElement("div")).id="tempEl",n.appendChild(t),t.innerHTML=e,document.getElementById("tempEl").removeNode(!1),t=null)},Element.prototype.html=function(e){var t=this;if(void 0===e)return s(t);t.empty(),f?t.innerHTML=e:t.append(e)}}();